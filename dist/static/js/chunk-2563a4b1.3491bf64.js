(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2563a4b1"],{"1d6d":function(t,e,n){t.exports=n.p+"static/img/brand-default.9f1fb219.jpg"},3880:function(t,e,n){},"3cb2":function(t,e,n){},"3d6e":function(t,e,n){"use strict";n("9055")},"43f7":function(t,e,n){},"478d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{staticClass:"search-form",attrs:{bordered:!1}},[n("a-form",{attrs:{form:t.form}},[n("form-row",{staticStyle:{"padding-bottom":"11px"},attrs:{label:"Brand"}},[n("a-row",[n("a-col",{staticClass:"components-input-demo-presuffix",attrs:{offset:1,span:8}},[n("a-form-item",{attrs:{wrapperCol:{span:24}}},[n("a-input",{ref:"userNameInput",attrs:{placeholder:"Brand name"},on:{change:t.searchBrand},model:{value:t.brandName,callback:function(e){t.brandName=e},expression:"brandName"}},[n("a-icon",{attrs:{slot:"prefix"},slot:"prefix"},[n("i",{staticClass:"fas fa-bold"})])],1)],1)],1),n("a-col",{staticClass:"components-input-demo-presuffix",attrs:{offset:1,span:8}},[n("a-form-item",{attrs:{wrapperCol:{span:24}}},[n("a-input",{ref:"TitleInput",attrs:{placeholder:"Company name"},on:{change:t.searchCompany},model:{value:t.companyName,callback:function(e){t.companyName=e},expression:"companyName"}},[n("a-icon",{attrs:{slot:"prefix"},slot:"prefix"},[n("i",{staticClass:"far fa-building"})])],1)],1)],1),n("a-col",{attrs:{offset:1,span:3}},[n("a-form-item",{attrs:{wrapperCol:{span:4}}},[n("a-button",{on:{click:t.lookOption}},[t._v("Optional")])],1)],1)],1)],1),n("form-row",{directives:[{name:"show",rawName:"v-show",value:t.optionFlg,expression:"optionFlg"}],attrs:{label:"Options"}},[n("a-row",[n("a-col",{attrs:{offset:0,span:9}},[n("a-form-item",{attrs:{wrapperCol:{span:24}}},[n("a-range-picker",{staticStyle:{"margin-left":"30px",width:"336px"},attrs:{format:"YYYY-MM-DD",placeholder:["Created from","Created to"]},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),n("a-col",{attrs:{offset:1,span:8}},[n("a-form-item",{staticStyle:{"margin-left":"-7px"},attrs:{wrapperCol:{span:24}}},[n("a-select",{attrs:{placeholder:"Active"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("a-select-option",{attrs:{value:"0"}},[t._v("All active")]),n("a-select-option",{attrs:{value:"1"}},[t._v("Active")]),n("a-select-option",{attrs:{value:"2"}},[t._v("Inactive")])],1)],1)],1)],1)],1)],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-select"},[n("tag-select-option",{on:{click:t.toggleCheck}},[t._v("全部")]),t._t("default"),n("a",{directives:[{name:"show",rawName:"v-show",value:t.showTrigger,expression:"showTrigger"}],ref:"trigger",staticClass:"trigger",on:{click:t.toggle}},[t._v("展开"),n("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:t.collapsed?"down":"up"}})],1)],2)},s=[],c=(n("4de4"),n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-checkable-tag",{staticClass:"tag-default",on:{change:function(e){return t.$emit("click")}},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._t("default")],2)}),o=[],l={name:"TagSelectOption",props:{size:{type:String,required:!1,default:"default"}},data:function(){return{checked:!1,isTagSelectOption:!0}}},u=l,p=(n("9f3c"),n("2877")),f=Object(p["a"])(u,c,o,!1,null,"71253f5c",null),h=f.exports,d={name:"TagSelect",Option:h,components:{TagSelectOption:h},data:function(){return{showTrigger:!1,collapsed:!0,screenWidth:document.body.clientWidth,checkAll:!1}},watch:{screenWidth:function(){this.showTrigger=this.needTrigger()},collapsed:function(t){this.$el.style.maxHeight=t?"39px":"78px"}},mounted:function(){var t=this;setTimeout((function(){t.showTrigger=t.needTrigger(),t.$refs.trigger.style.display=t.showTrigger?"inline":"none"}),1),window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}},methods:{needTrigger:function(){return this.$el.clientHeight<this.$el.scrollHeight||this.$el.scrollHeight>39},toggle:function(){this.collapsed=!this.collapsed},getAllTags:function(){var t=this.$children.filter((function(t){return t.isTagSelectOption}));return t},toggleCheck:function(){var t=this;this.checkAll=!this.checkAll;var e=this.getAllTags();e.forEach((function(e){e.checked=t.checkAll}))}}},m=d,g=(n("3d6e"),Object(p["a"])(m,r,s,!1,null,"7e7f73bc",null)),v=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-row"},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.label))])]),n("div",{staticClass:"content"},[t._t("default")],2)])},w=[],x={name:"FormRow",props:["label"]},y=x,C=(n("c274"),Object(p["a"])(y,b,w,!1,null,"65268dc1",null)),k=C.exports,_=(v.Option,{name:"SearchForm",components:{FormRow:k},data:function(){return{form:this.$form.createForm(this),optionFlg:!1,active:"0",brandName:"",companyName:"",time:[]}},watch:{time:function(){this.$emit("search-time",this.time)},active:function(){this.$emit("search-active",this.active)}},methods:{lookOption:function(){this.optionFlg=!this.optionFlg},searchBrand:function(){this.$emit("search-brand",this.brandName)},searchCompany:function(){this.$emit("search-company",this.companyName)}}}),V=_,T=(n("75a4"),Object(p["a"])(V,a,i,!1,null,"53dafe00",null));e["a"]=T.exports},"75a4":function(t,e,n){"use strict";n("3cb2")},"81f6":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return u}));n("96cf");var a=n("1da1"),i=n("7424"),r=n("b775");function s(){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r["f"])(i["BRANDS"],r["a"].GET));case 1:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function o(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r["f"])(i["BRANDS"]+"/"+e,r["a"].GET));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r["f"])(i["BRANDS"]+"/"+e+"/stores",r["a"].GET));case 1:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}},8557:function(t,e,n){},9055:function(t,e,n){},"9f3c":function(t,e,n){"use strict";n("3880")},bfbc:function(t,e,n){"use strict";n("8557")},c274:function(t,e,n){"use strict";n("43f7")},cc0d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"brandList"},[a("search-form",{on:{"search-brand":t.searchBrand,"search-company":t.searchCompany,"search-time":t.searchTime,"search-active":t.searchActive}}),a("a-list",{staticClass:"list",staticStyle:{margin:"0 -8px"},attrs:{grid:{gutter:24,xl:4,lg:3,md:3,sm:2,xs:1},size:"small",pagination:t.paginationValue}},t._l(t.paging,(function(e,i){return a("a-list-item",{key:i,staticStyle:{padding:"0 8px"}},[a("a-card",{on:{click:function(n){return t.showDetails(e)}}},[a("img",{attrs:{slot:"cover",src:n("1d6d"),alt:"Brand",height:"154"},slot:"cover"}),a("a-card-meta",{attrs:{title:e.brandName}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.companyName))])]),a("div",{staticStyle:{height:"100px","min-height":"100px","max-height":"100px","margin-top":"5px"},attrs:{slot:"description"},slot:"description"},[a("span",[t._v(t._s(t._f("substringText")(e.description)))])])]),a("div",{staticClass:"content"},[a("span",[t._v(t._s(t._f("substringDate")(e.createdDate)))]),a("div",{staticClass:"div_action"},[e.isActive?a("span",{attrs:{slot:"actions"},slot:"actions"},[a("div",{staticClass:"active"},[t._v("ACTIVE")])]):a("span",{staticClass:"inactive",attrs:{slot:"actions"},slot:"actions"},[a("div",{staticClass:"inactive"},[t._v("INACTIVE")])])])])],1)],1)})),1)],1)},i=[],r=(n("4de4"),n("caad"),n("c975"),n("d3b7"),n("2532"),n("478d")),s=n("81f6"),c=(n("93d6"),n("89a5"),{name:"BrandList",components:{SearchForm:r["a"]},data:function(){return{brandList:[],activeValue:"",companyValue:"",brandValue:"",timeValue:{from:null,to:null},pagination:{pageSize:8,showQuickJumper:!0,showLessItems:!0,current:1,total:50,onChange:this.onPageChange}}},mounted:function(){this.initPage()},computed:{paginationValue:function(){return{pageSize:8,showQuickJumper:!0,showLessItems:!0,current:this.pagination.current,total:this.showList.length,onChange:this.onPageChange}},paging:function(){var t=this,e=this.showList;return e.length>this.paginationValue.pageSize&&(e=e.filter((function(n){return e.indexOf(n)>=(t.pagination.current-1)*t.pagination.pageSize&&e.indexOf(n)<=t.pagination.current*t.pagination.pageSize-1}))),e},showList:function(){var t=this,e=this.brandList;return null===this.brandValue&&""===this.brandValue||(e=e.filter((function(e){return e.brandName.includes(t.brandValue)}))),null===this.companyValue&&""===this.companyValue||(e=e.filter((function(e){return e.companyName.includes(t.companyValue)}))),null!==this.timeValue.from&&null!==this.timeValue.to&&(e=e.filter((function(e){return new Date(e.createdDate)>=t.timeValue.from&&new Date(e.createdDate)<=t.timeValue.to}))),"1"===this.activeValue&&(e=e.filter((function(t){return t.isActive}))),"2"===this.activeValue&&(e=e.filter((function(t){return!t.isActive}))),e}},methods:{initPage:function(){var t=this;new Promise((function(t,e){t()})).then((function(t){return Object(s["b"])()})).then((function(e){t.brandList=e.data})).then((function(e){t.brandList.sort((function(t,e){return new Date(e.createdDate)-new Date(t.createdDate)}))}))},searchBrand:function(t){this.brandValue=t},searchCompany:function(t){this.companyValue=t},searchTime:function(t){0===t.length?(this.timeValue.from=null,this.timeValue.to=null):(this.timeValue.from=new Date(t[0]),this.timeValue.to=new Date(t[1]))},searchActive:function(t){this.activeValue=t},onPageChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e},showDetails:function(t){this.$router.push({name:"Brand detail",params:{id:t.id}})}},filters:{substringText:function(t){return null===t&&""===t||(t=t.substring(0,100)),100==t.length&&(t+=" ..."),t},substringDate:function(t){if(null!==t||""!==t)return t.substring(0,10)}}}),o=c,l=(n("bfbc"),n("2877")),u=Object(l["a"])(o,a,i,!1,null,"83d108b2",null);e["default"]=u.exports}}]);