(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a3fb1bf"],{"1d6d":function(t,e,a){t.exports=a.p+"static/img/brand-default.9f1fb219.jpg"},3880:function(t,e,a){},"3cb2":function(t,e,a){},"3d6e":function(t,e,a){"use strict";a("9055")},"43f7":function(t,e,a){},4725:function(t,e,a){},"478d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"search-form",attrs:{bordered:!1}},[a("a-form",{attrs:{form:t.form}},[a("form-row",{staticStyle:{"padding-bottom":"11px"},attrs:{label:"Brand"}},[a("a-row",[a("a-col",{staticClass:"components-input-demo-presuffix",attrs:{offset:1,span:8}},[a("a-form-item",{attrs:{wrapperCol:{span:24}}},[a("a-input",{ref:"userNameInput",attrs:{placeholder:"Brand name"},on:{change:t.searchBrand},model:{value:t.brandName,callback:function(e){t.brandName=e},expression:"brandName"}},[a("a-icon",{attrs:{slot:"prefix"},slot:"prefix"},[a("i",{staticClass:"fas fa-bold"})])],1)],1)],1),a("a-col",{staticClass:"components-input-demo-presuffix",attrs:{offset:1,span:8}},[a("a-form-item",{attrs:{wrapperCol:{span:24}}},[a("a-input",{ref:"TitleInput",attrs:{placeholder:"Company name"},on:{change:t.searchCompany},model:{value:t.companyName,callback:function(e){t.companyName=e},expression:"companyName"}},[a("a-icon",{attrs:{slot:"prefix"},slot:"prefix"},[a("i",{staticClass:"far fa-building"})])],1)],1)],1),a("a-col",{attrs:{offset:1,span:3}},[a("a-form-item",{attrs:{wrapperCol:{span:4}}},[a("a-button",{on:{click:t.lookOption}},[t._v("Optional")])],1)],1)],1)],1),a("form-row",{directives:[{name:"show",rawName:"v-show",value:t.optionFlg,expression:"optionFlg"}],attrs:{label:"Options"}},[a("a-row",[a("a-col",{attrs:{offset:0,span:9}},[a("a-form-item",{attrs:{wrapperCol:{span:24}}},[a("a-range-picker",{staticStyle:{"margin-left":"30px",width:"336px"},attrs:{format:"YYYY-MM-DD",placeholder:["Created from","Created to"]},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),a("a-col",{attrs:{offset:1,span:8}},[a("a-form-item",{staticStyle:{"margin-left":"-7px"},attrs:{wrapperCol:{span:24}}},[a("a-select",{attrs:{placeholder:"Active"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("All active")]),a("a-select-option",{attrs:{value:"1"}},[t._v("Active")]),a("a-select-option",{attrs:{value:"2"}},[t._v("Inactive")])],1)],1)],1)],1)],1)],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-select"},[a("tag-select-option",{on:{click:t.toggleCheck}},[t._v("全部")]),t._t("default"),a("a",{directives:[{name:"show",rawName:"v-show",value:t.showTrigger,expression:"showTrigger"}],ref:"trigger",staticClass:"trigger",on:{click:t.toggle}},[t._v("展开"),a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:t.collapsed?"down":"up"}})],1)],2)},r=[],c=(a("4de4"),a("4160"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-checkable-tag",{staticClass:"tag-default",on:{change:function(e){return t.$emit("click")}},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._t("default")],2)}),o=[],l={name:"TagSelectOption",props:{size:{type:String,required:!1,default:"default"}},data:function(){return{checked:!1,isTagSelectOption:!0}}},u=l,p=(a("9f3c"),a("2877")),h=Object(p["a"])(u,c,o,!1,null,"71253f5c",null),f=h.exports,d={name:"TagSelect",Option:f,components:{TagSelectOption:f},data:function(){return{showTrigger:!1,collapsed:!0,screenWidth:document.body.clientWidth,checkAll:!1}},watch:{screenWidth:function(){this.showTrigger=this.needTrigger()},collapsed:function(t){this.$el.style.maxHeight=t?"39px":"78px"}},mounted:function(){var t=this;setTimeout((function(){t.showTrigger=t.needTrigger(),t.$refs.trigger.style.display=t.showTrigger?"inline":"none"}),1),window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}},methods:{needTrigger:function(){return this.$el.clientHeight<this.$el.scrollHeight||this.$el.scrollHeight>39},toggle:function(){this.collapsed=!this.collapsed},getAllTags:function(){var t=this.$children.filter((function(t){return t.isTagSelectOption}));return t},toggleCheck:function(){var t=this;this.checkAll=!this.checkAll;var e=this.getAllTags();e.forEach((function(e){e.checked=t.checkAll}))}}},m=d,g=(a("3d6e"),Object(p["a"])(m,s,r,!1,null,"7e7f73bc",null)),v=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-row"},[a("div",{staticClass:"label"},[a("span",[t._v(t._s(t.label))])]),a("div",{staticClass:"content"},[t._t("default")],2)])},w=[],x={name:"FormRow",props:["label"]},C=x,y=(a("c274"),Object(p["a"])(C,b,w,!1,null,"65268dc1",null)),_=y.exports,k=(v.Option,{name:"SearchForm",components:{FormRow:_},data:function(){return{form:this.$form.createForm(this),optionFlg:!1,active:"0",brandName:"",companyName:"",time:[]}},watch:{time:function(){this.$emit("search-time",this.time)},active:function(){this.$emit("search-active",this.active)}},methods:{lookOption:function(){this.optionFlg=!this.optionFlg},searchBrand:function(){this.$emit("search-brand",this.brandName)},searchCompany:function(){this.$emit("search-company",this.companyName)}}}),V=k,T=(a("75a4"),Object(p["a"])(V,n,i,!1,null,"53dafe00",null));e["a"]=T.exports},"75a4":function(t,e,a){"use strict";a("3cb2")},9055:function(t,e,a){},"96b7":function(t,e,a){"use strict";a("4725")},"9f3c":function(t,e,a){"use strict";a("3880")},c274:function(t,e,a){"use strict";a("43f7")},cc0d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"brandList"},[n("search-form",{on:{"search-brand":t.searchBrand,"search-company":t.searchCompany,"search-time":t.searchTime,"search-active":t.searchActive}}),n("a-list",{staticClass:"list",staticStyle:{margin:"0 -8px"},attrs:{grid:{gutter:24,xl:4,lg:3,md:3,sm:2,xs:1},size:"small",pagination:t.paginationValue}},t._l(t.paging,(function(e,i){return n("a-list-item",{key:i,staticStyle:{padding:"0 8px"}},[n("a-card",{on:{click:function(a){return t.showDetails(e)}}},[n("img",{attrs:{slot:"cover",src:a("1d6d"),alt:"Brand",height:"154"},slot:"cover"}),n("a-card-meta",{attrs:{title:e.brandName}},[n("div",{attrs:{slot:"description"},slot:"description"},[n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.companyName))])]),n("div",{staticStyle:{height:"100px","min-height":"100px","max-height":"100px","margin-top":"5px"},attrs:{slot:"description"},slot:"description"},[n("span",[t._v(t._s(t._f("substringText")(e.description)))])])]),n("div",{staticClass:"content"},[n("span",[t._v(t._s(t._f("substringDate")(e.createdDate)))]),n("div",{staticClass:"div_action"},[e.isActive?n("span",{attrs:{slot:"actions"},slot:"actions"},[n("div",{staticClass:"active"},[t._v("ACTIVE")])]):n("span",{staticClass:"inactive",attrs:{slot:"actions"},slot:"actions"},[n("div",{staticClass:"inactive"},[t._v("INACTIVE")])])])])],1)],1)})),1)],1)},i=[],s=(a("4de4"),a("caad"),a("c975"),a("d3b7"),a("2532"),a("478d")),r=(a("96cf"),a("1da1")),c=a("7424"),o=a("b775");function l(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["f"])(c["BRANDS"],o["a"].GET));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}var p={name:"BrandList",components:{SearchForm:s["a"]},data:function(){return{brandList:[],activeValue:"",companyValue:"",brandValue:"",timeValue:{from:null,to:null},pagination:{pageSize:8,showQuickJumper:!0,showLessItems:!0,current:1,total:50,onChange:this.onPageChange}}},mounted:function(){this.initPage()},computed:{paginationValue:function(){return{pageSize:8,showQuickJumper:!0,showLessItems:!0,current:this.pagination.current,total:this.showList.length,onChange:this.onPageChange}},paging:function(){var t=this,e=this.showList;return e.length>this.paginationValue.pageSize&&(e=e.filter((function(a){return e.indexOf(a)>=(t.pagination.current-1)*t.pagination.pageSize&&e.indexOf(a)<=t.pagination.current*t.pagination.pageSize-1}))),e},showList:function(){var t=this,e=this.brandList;return null===this.brandValue&&""===this.brandValue||(e=e.filter((function(e){return e.brandName.includes(t.brandValue)}))),null===this.companyValue&&""===this.companyValue||(e=e.filter((function(e){return e.companyName.includes(t.companyValue)}))),null!==this.timeValue.from&&null!==this.timeValue.to&&(e=e.filter((function(e){return new Date(e.createdDate)>=t.timeValue.from&&new Date(e.createdDate)<=t.timeValue.to}))),"1"===this.activeValue&&(e=e.filter((function(t){return t.isActive}))),"2"===this.activeValue&&(e=e.filter((function(t){return!t.isActive}))),e}},methods:{initPage:function(){var t=this;new Promise((function(t,e){t()})).then((function(t){return l()})).then((function(e){t.brandList=e.data})).then((function(e){t.brandList.sort((function(t,e){return new Date(e.createdDate)-new Date(t.createdDate)}))}))},searchBrand:function(t){this.brandValue=t},searchCompany:function(t){this.companyValue=t},searchTime:function(t){0===t.length?(this.timeValue.from=null,this.timeValue.to=null):(this.timeValue.from=new Date(t[0]),this.timeValue.to=new Date(t[1]))},searchActive:function(t){this.activeValue=t},onPageChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e},showDetails:function(t){this.$router.push("/brands/brand-detail")}},filters:{substringText:function(t){return null===t&&""===t||(t=t.substring(0,100)),100==t.length&&(t+=" ..."),t},substringDate:function(t){if(null!==t||""!==t)return t.substring(0,10)}}},h=p,f=(a("96b7"),a("2877")),d=Object(f["a"])(h,n,i,!1,null,"5674ac3d",null);e["default"]=d.exports}}]);