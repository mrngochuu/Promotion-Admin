(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-670981be"],{"13d5":function(t,e,a){"use strict";var n=a("23e7"),r=a("d58f").left,i=a("a640"),s=a("ae40"),o=i("reduce"),c=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1456:function(t,e,a){"use strict";a("e0e1")},"1d6d":function(t,e,a){t.exports=a.p+"static/img/brand-default.9f1fb219.jpg"},"33ae":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"brandDetail"},[n("page-layout",{attrs:{title:t.brandObject.brandName}},[n("detail-list",{attrs:{slot:"headerContent",size:"large",col:1},slot:"headerContent"},[n("detail-list-item",{attrs:{term:"Company"}},[t._v(t._s(t.brandObject.companyName))]),n("detail-list-item",{attrs:{term:"Center address"}},[t._v(t._s(t.brandObject.centerAddress))]),n("detail-list-item",{attrs:{term:"Website"}},[t._v(t._s(t.brandObject.website))]),n("detail-list-item",{attrs:{term:"VAT code"}},[t._v(t._s(t.brandObject.vatcode))]),n("detail-list-item",{attrs:{term:"Description"}},[t._v(t._s(t.brandObject.description))]),n("detail-list-item",{attrs:{term:"Created date"}},[n("span",[t._v(t._s(t._f("substringDate")(t.brandObject.createdDate)))]),n("div",{staticClass:"div_action"},[t.brandObject.isActive?n("span",{attrs:{slot:"actions"},slot:"actions"},[n("div",{staticClass:"active"},[t._v("ACTIVE")])]):n("span",{staticClass:"inactive",attrs:{slot:"actions"},slot:"actions"},[n("div",{staticClass:"inactive"},[t._v("INACTIVE")])])])]),n("img",{staticStyle:{position:"absolute",top:"-100px",right:"0px"},attrs:{src:a("1d6d"),alt:"Brand",height:"250"}}),n("detail-list",{attrs:{type:"inner",title:"Contact"}},[n("detail-list-item",{attrs:{term:"Contact person"}},[t._v(" "+t._s(t.brandObject.contactPerson))]),n("detail-list-item",{attrs:{term:"Phone"}},[t._v(t._s(t.brandObject.phoneNumber))]),n("detail-list-item",{attrs:{term:"Fax"}},[t._v(t._s(t.brandObject.fax))])],1)],1),n("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"Store list"}},[n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-radio-group",{model:{value:t.activeMode,callback:function(e){t.activeMode=e},expression:"activeMode"}},[n("a-radio-button",{attrs:{value:"0"}},[t._v("All status")]),n("a-radio-button",{attrs:{value:"1"}},[t._v("Active")]),n("a-radio-button",{attrs:{value:"2"}},[t._v("Inactive")])],1),n("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"},attrs:{placeholder:"Title"},model:{value:t.storeValue,callback:function(e){t.storeValue=e},expression:"storeValue"}})],1),n("a-list",{attrs:{size:"large"}},[n("standard-table",{attrs:{columns:t.columns,dataSource:t.showList}},[n("template",{slot:"statusTitle"},[n("a-icon",{attrs:{type:"info-circle"},nativeOn:{click:function(e){return t.onStatusTitleClick(e)}}})],1)],2)],1)],1)],1)],1)},r=[],i=(a("4de4"),a("4160"),a("caad"),a("d3b7"),a("25f0"),a("2532"),a("159b"),a("45eb")),s=a("3521"),o=a("c340"),c=(a("89cd"),a("5880"),a("81f6")),u=o["a"].Item,d={name:"BrandDetail",components:{DetailListItem:u,DetailList:o["a"],PageLayout:i["a"],StandardTable:s["a"]},data:function(){return{storeValue:"",brandObject:{},storeList:[],activeMode:"0",columns:[{title:"Store",dataIndex:"storeName"},{title:"Address",dataIndex:"address"},{title:"Open time",dataIndex:"openTime"},{title:"Close time",dataIndex:"closeTime"},{title:"Report date",dataIndex:"reportDateStr"},{title:"Available",dataIndex:"avaiableStr"},{title:"Active",dataIndex:"activeStr"}]}},mounted:function(){this.initPage()},computed:{showList:function(){var t=this,e=this.storeList;return null===this.storeValue&&""===this.storeValue||(e=e.filter((function(e){return e.storeName.includes(t.storeValue)}))),"1"===this.activeMode&&(e=e.filter((function(t){return t.isActive}))),"2"===this.activeMode&&(e=e.filter((function(t){return!t.isActive}))),e}},methods:{initPage:function(){var t=this,e=this.$router.currentRoute.params.id;void 0===e||null===e||""===e||isNaN(parseInt(e))?this.$router.push("/brands/brand-list"):new Promise((function(t,e){t()})).then((function(t){return Object(c["a"])(e)})).then((function(e){t.brandObject=e.data})).then((function(t){return Object(c["c"])(e)})).then((function(e){t.storeList=e.data,t.storeList.forEach((function(t){t.activeStr=t.isActive.toString(),t.avaiableStr=t.isAvailable.toString(),t.reportDateStr=t.reportDate.toString().substring(0,10)}))}))}},filters:{substringDate:function(t){if(null!==t||""!==t)return t.substring(0,10)}}},l=d,p=(a("c8f5"),a("2877")),m=Object(p["a"])(l,n,r,!1,null,"46907548",null);e["default"]=m.exports},3521:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[t.selectedRows?a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[t._v(" Selected "),a("a",[t._v(t._s(t.selectedRows.length))]),t._v(" rows "),a("a",{staticClass:"clear",on:{click:t.onClear}},[t._v("Clear")])])]):t._e()],1),a("a-table",{attrs:{bordered:t.bordered,loading:t.loading,columns:t.columns,dataSource:t.dataSource,rowKey:t.rowKey,pagination:t.pagination,expandedRowKeys:t.expandedRowKeys,expandedRowRender:t.expandedRowRender,rowSelection:t.selectedRows?{selectedRowKeys:t.selectedRowKeys,onChange:t.updateSelect}:void 0},on:{change:t.onChange},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,n,r){return[t._t(e,null,null,{text:a,record:n,index:r})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,n,r){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:n,expanded:r})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return a("template",{slot:e},[t._t(e)],2)}))],2)],1)},r=[],i=(a("4de4"),a("d81d"),a("13d5"),a("5530")),s={name:"StandardTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{updateSelect:function(t,e){this.$emit("update:selectedRows",e),this.$emit("selectedRowChange",t,e)},initTotalList:function(t){var e=t.filter((function(t){return t.needTotal})).map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{total:0})}));return e},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(t,e,a,n){var r=n.currentDataSource;this.$emit("change",t,e,a,{currentDataSource:r})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function(t){this.needTotalList=this.needTotalList.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{total:t.reduce((function(t,a){return t+a[e.dataIndex]}),0)})}))}},computed:{selectedRowKeys:function(){var t=this;return this.selectedRows.map((function(e){return"function"===typeof t.rowKey?t.rowKey(e):e[t.rowKey]}))}}},o=s,c=(a("1456"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"916f5a86",null);e["a"]=u.exports},"369c":function(t,e,a){},"400b":function(t,e,a){},"45eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-layout"},[a("page-header",{ref:"pageHeader",style:"margin-top: "+(t.multiPage?0:-24)+"px",attrs:{breadcrumb:t.breadcrumb,title:t.pageTitle,logo:t.logo,avatar:t.avatar}},[t._t("action",null,{slot:"action"}),t._t("headerContent",null,{slot:"content"}),t._t("sub-headerContent",null,{slot:"content"}),!this.$slots.headerContent&&t.desc?a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v(t._s(t.desc))]),this.linkList?a("div",{staticClass:"link"},[t._l(t.linkList,(function(e,n){return[a("a",{key:n,attrs:{href:e.href}},[a("a-icon",{attrs:{type:e.icon}}),t._v(t._s(e.title))],1)]}))],2):t._e()]):t._e(),this.$slots.extra?t._t("extra",null,{slot:"extra"}):t._e()],2),a("div",{ref:"page",class:["page-content",t.layout,t.pageWidth]},[t._t("default")],2)],1)},r=[],i=(a("4160"),a("159b"),a("5530")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["page-header",t.layout,t.pageWidth]},[a("div",{staticClass:"page-header-wide"},[a("div",{staticClass:"breadcrumb"},[a("a-breadcrumb",t._l(t.breadcrumb,(function(e,n){return a("a-breadcrumb-item",{key:n},[a("span",[t._v(t._s(e))])])})),1)],1),a("div",{staticClass:"detail"},[a("div",{staticClass:"main"},[a("div",{staticClass:"row"},[t.showPageTitle&&t.title?a("h1",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),a("div",{staticClass:"action"},[t._t("action")],2)]),a("div",{staticClass:"row"},[this.$slots.content?a("div",{staticClass:"content"},[t.avatar?a("div",{staticClass:"avatar"},[a("a-avatar",{attrs:{src:t.avatar,size:72}})],1):t._e(),t._t("content")],2):t._e(),this.$slots.extra?a("div",{staticClass:"extra"},[t._t("extra")],2):t._e()])])])])])},o=[],c=a("5880"),u={name:"PageHeader",props:{title:{type:[String,Boolean],required:!1},breadcrumb:{type:Array,required:!1},logo:{type:String,required:!1},avatar:{type:String,required:!1}},computed:Object(i["a"])({},Object(c["mapState"])("setting",["layout","showPageTitle","pageWidth"]))},d=u,l=(a("6593"),a("2877")),p=Object(l["a"])(d,s,o,!1,null,"40581fd6",null),m=p.exports,f=a("89a5"),h={name:"PageLayout",components:{PageHeader:m},props:["desc","logo","title","avatar","linkList","extraImage"],data:function(){return{page:{},pageHeaderHeight:0}},watch:{$route:function(){this.page=this.$route.meta.page}},updated:function(){this._inactive||this.updatePageHeight()},activated:function(){this.updatePageHeight()},deactivated:function(){this.updatePageHeight(0)},mounted:function(){this.updatePageHeight()},created:function(){this.page=this.$route.meta.page},beforeDestroy:function(){this.updatePageHeight(0)},computed:Object(i["a"])(Object(i["a"])({},Object(c["mapState"])("setting",["layout","multiPage","pageMinHeight","pageWidth"])),{},{pageTitle:function(){var t=this.page&&this.page.title;return void 0===t?this.title||this.routeName:this.$t(t)},routeName:function(){var t=this.$route;return this.$t(Object(f["b"])(t.matched[t.matched.length-1].path))},breadcrumb:function(){var t=this,e=this.page,a=e&&e.breadcrumb;if(a){var n=[];return a.forEach((function(e){n.push(t.$t(e))})),n}return this.getRouteBreadcrumb()},marginCorrect:function(){return this.multiPage?24:0}}),methods:Object(i["a"])(Object(i["a"])({},Object(c["mapMutations"])("setting",["correctPageMinHeight"])),{},{getRouteBreadcrumb:function(){var t=this,e=this.$route.matched,a=[];return e.forEach((function(e){var n=0===e.path.length?"/home":e.path;a.push(t.$t(Object(f["b"])(n)))})),a},updatePageHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$refs.pageHeader.$el.offsetHeight+this.marginCorrect;this.correctPageMinHeight(this.pageHeaderHeight-t),this.pageHeaderHeight=t}})},g=h,b=(a("aa1d"),Object(l["a"])(g,n,r,!1,null,null,null));e["a"]=b.exports},6531:function(t,e,a){"use strict";a("369c")},6593:function(t,e,a){"use strict";a("c5d8")},"81f6":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return d}));a("96cf");var n=a("1da1"),r=a("7424"),i=a("b775");function s(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])(r["BRANDS"],i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])(r["BRANDS"]+"/"+e,i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function d(t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i["f"])(r["BRANDS"]+"/"+e+"/stores",i["a"].GET));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},"89cd":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s}));var n=[{key:"op1",type:"订购关系生效",name:"曲丽丽",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"-"},{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",memo:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"很棒"},{key:"op5",type:"创建订单",name:"汗牙牙",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"-"}],r=[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",memo:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"很棒"}],i=[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",memo:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",memo:"-"}],s=[{title:"操作类型",dataIndex:"type",key:"type"},{title:"操作人",dataIndex:"name",key:"name"},{title:"执行结果",dataIndex:"status",key:"status"},{title:"操作时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"备注",dataIndex:"memo",key:"memo"}]},"9bdf":function(t,e,a){},aa1d:function(t,e,a){"use strict";a("9bdf")},c340:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["detail-list","small"===t.size?"small":"large","vertical"===t.layout?"vertical":"horizontal"]},[t.title?a("div",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),a("a-row",[t._t("default")],2)],1)},r=[],i=(a("a9e3"),a("da05")),s={name:"DetailListItem",props:{term:{type:String,required:!1}},inject:{col:{type:Number}},methods:{renderTerm:function(t,e){return e?t("div",{attrs:{class:"term"}},[e]):null},renderContent:function(t,e){return t("div",{attrs:{class:"content"}},[e])}},render:function(t){var e=this.renderTerm(t,this.$props.term),a=this.renderContent(t,this.$slots.default);return t(i["b"],{props:o[this.col]},[e,a])}},o={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},c={name:"DetailList",Item:s,props:{title:{type:String,required:!1},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"},image:{type:String,required:!1,default:"../../assets/img/brand-default.jpg"}},provide:function(){return{col:this.col>4?4:this.col}}},u=c,d=(a("6531"),a("2877")),l=Object(d["a"])(u,n,r,!1,null,null,null);e["a"]=l.exports},c5d8:function(t,e,a){},c8f5:function(t,e,a){"use strict";a("400b")},d58f:function(t,e,a){var n=a("1c0b"),r=a("7b0b"),i=a("44ad"),s=a("50c4"),o=function(t){return function(e,a,o,c){n(a);var u=r(e),d=i(u),l=s(u.length),p=t?l-1:0,m=t?-1:1;if(o<2)while(1){if(p in d){c=d[p],p+=m;break}if(p+=m,t?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:l>p;p+=m)p in d&&(c=a(c,d[p],p,u));return c}};t.exports={left:o(!1),right:o(!0)}},e0e1:function(t,e,a){}}]);